<html>
<head>

<title>JSChart</title>
    <script src="../../../Scripts/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="../../../js/jscharts.js"></script>

    <!--<script>

        //$(document).ready(function () {
        //    var x = new Array();

        //    $.getJSON("http://api.issoa.net/api/organizations", function (org_data) {
        //        //alert(org_data[1].Name);
        //        //$.each(org_data, function (i, value) {
        //        //    //alert(value.Id);
        //        //    //alert(value.Type);
        //        //    //alert(value.Name);
        //        //    //alert(value.Description); 
        //        //});

        //        $.each(org_data, function (key, val) {
        //            x.push(val.Name);
        //            x.push(parseInt(val.Id));
                    
        //            //x.push(val.Type);
        //        });
        //        alert(x);
        //    });

        //});

    </script>-->


</head>
<body>

<div id="graph">Loading graph...</div>

<script type="text/javascript">


    $(document).ready(function () {
        var myDatax = new Array();

        $.getJSON("http://api.issoa.net/api/organizations", function (org_data) {
            //alert(org_data[1].Name);
            //$.each(org_data, function (i, value) {
            //    //alert(value.Id);
            //    //alert(value.Type);
            //    //alert(value.Name);
            //    //alert(value.Description); 
            //});
           

            var array = $.map(org_data, function (org_data) {
                return [[org_data.Type, parseInt(org_data.Id)]];
            });
             
            console.debug(array);

            //$.each(org_data, function (key, val) {
            //    //myData.push(val.Name);
            //    myDatax.push(val.Type);
            //    myDatax.push(parseInt(val.Id));
               
            //    //x.push(val.Type);
            //});
         // alert(myDatax);

           // var myData = new Array(['U.S.A.', 1], ['Canada', 2] );
           // alert(myData);
            var colors = ['#FA5E1F', '#FDCB3F', '#71D743', '#D23333', '#BAE73F', '#AB7B55', '#B381C9', '#AB7B55', '#B381C9'];
            var myChart = new JSChart('graph', 'bar');
            myChart.setDataArray(array);


            myChart.colorizeBars(colors);
            myChart.setTitle('Host distribution per macroareas');
            myChart.setTitleColor('#8E8E8E');
            myChart.setAxisNameX('Region');
            myChart.setAxisNameY('%');
            myChart.setAxisColor('#c6c6c6');
            myChart.setAxisWidth(1);
            myChart.setAxisNameColor('#9a9a9a');
            myChart.setAxisValuesColor('#939393');
            myChart.setAxisPaddingTop(60);
            myChart.setAxisPaddingLeft(50);
            myChart.setAxisPaddingBottom(60);
            myChart.setTextPaddingBottom(20);
            myChart.setTextPaddingLeft(15);
            myChart.setTitleFontSize(11);
            myChart.setBarBorderWidth(0);
            myChart.setBarSpacingRatio(50);
            myChart.setBarValuesColor('#737373');
            myChart.setGrid(false);
            myChart.setSize(616, 321);
            myChart.setBackgroundImage('chart_bg.jpg');
            myChart.draw();
        });
         
    });


</script>

</body>
</html>